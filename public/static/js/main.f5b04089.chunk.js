(this.webpackJsonpttt=this.webpackJsonpttt||[]).push([[0],{29:function(t,e,a){},54:function(t,e,a){},55:function(t,e,a){},56:function(t,e,a){},57:function(t,e,a){},58:function(t,e,a){"use strict";a.r(e);var r=a(1),n=a(0),o=a.n(n),i=a(8),c=a.n(i),s=(a(29),a(4)),u=a(7),d=a.n(u),b=a(13),l=a(5),p=a(14),f=a.n(p),m={playCard:"X",board:"---------",boardUrl:null,isSubmitting:!1,submitResponse:null,submitError:null},j=Object(l.c)({name:"board",initialState:m,reducers:{setBoardValue:function(t,e){t.board=e.payload},setNewGame:function(t){t.board=m.board,t.playCard=m.playCard,t.boardUrl=m.boardUrl,t.submitResponse=m.submitResponse,t.submitError=m.submitError,t.isSubmitting=m.isSubmitting},putMoveStarted:function(t){t.isSubmitting=!0},setSubmitResponse:function(t,e){t.submitResponse=e.payload,t.isSubmitting=!1,e.payload&&"undefined"!==typeof e.payload.location&&(t.boardUrl=e.payload.location),e.payload&&"undefined"!==typeof e.payload.board&&(t.board=e.payload.board)},setSubmitError:function(t,e){t.submitError=e.payload,t.isSubmitting=!1}}}),h=j.actions,v=h.setBoardValue,O=h.setNewGame,y=function(t){return t.board},w=function(t){return t.board.boardUrl},g=function(t){return t.board.playCard},S=function(t){return t.board.submitResponse},x=function(t){return t.board.submitError},N=function(t){return t.board.isSubmitting},E=Object(l.b)("board/getNewGame",function(){var t=Object(b.a)(d.a.mark((function t(e,a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.dispatch(j.actions.putMoveStarted()),f.a.get(e.location).then((function(t){a.dispatch(j.actions.setSubmitResponse(t.data))})).catch((function(t){a.dispatch(j.actions.setSubmitError(t.message))}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),C=Object(l.b)("board/putMoveToApi",function(){var t=Object(b.a)(d.a.mark((function t(e,a){var r,n,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.boardUrl?"put":"post",n=e.boardUrl||"/api/v1/games",o=e.newBoard,a.dispatch(j.actions.putMoveStarted()),f.a[r](n,{board:o}).then((function(t){a.dispatch(j.actions.setSubmitResponse(t.data)),t.data&&"undefined"!=typeof t.data.location&&a.dispatch(E({location:t.data.location}))})).catch((function(t){a.dispatch(j.actions.setSubmitError(t.message))}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),M=j.reducer;a(54),a(55);var R=function(t){return Object(r.jsx)("div",{className:"Board-wrapper",children:t.children})};a(56);var k=function(t){var e="-"===t.figure,a=e?t.playCard:t.figure;return Object(r.jsx)("div",{onClick:function(a){a.preventDefault(),e&&t.placeMove(t.tileKey)},className:e?"Tile Tile-clickable":"Tile",children:a})};var U=function(t){return Object(r.jsx)(o.a.Fragment,{children:t.board.board.split("").map((function(e,a){return Object(r.jsx)(k,{tileKey:a,placeMove:t.placeMove,figure:e,playCard:t.board.playCard},a)}))})};function B(){var t=Object(s.c)(g),e=Object(s.c)(y),a=Object(s.c)(w),n=Object(s.c)(S),o=Object(s.c)(x),i=Object(s.c)(N),c=n&&"RUNNING"!==n.status,u=c&&"X_WON"===n.status,d=c&&"O_WON"===n.status,b=c&&"DRAW"===n.status,l=o,p=Object(s.b)();return Object(r.jsxs)("div",{children:[Object(r.jsx)(R,{children:Object(r.jsx)(U,{isGameFinished:c,board:e,placeMove:function(r){if(c||i)return!1;var n="";e.board.split("").forEach((function(e,a){n+=a===r?t:e})),p(v(n)),p(C({newBoard:n,boardUrl:a}))}})}),Object(r.jsxs)("div",{className:"Message",children:[u&&"You won!",d&&"Computer won!",b&&"It's a draw!",l&&"Error occurred!","\xa0"]}),Object(r.jsx)("button",{className:"button","aria-label":"New Game",onClick:function(){p(O())},children:"New Game"})]})}a(57);var G=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)("header",{className:"App-header",children:Object(r.jsx)(B,{})})})},W=a(6),A=Object(l.a)({reducer:{board:M},middleware:[W.a]});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(s.a,{store:A,children:Object(r.jsx)(G,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[58,1,2]]]);
//# sourceMappingURL=main.f5b04089.chunk.js.map